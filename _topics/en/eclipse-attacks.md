---
title: Eclipse attacks

## Optional.  An entry will be added to the topics index for each alias
#aliases:
#  - Foo

## Required.  At least one category to which this topic belongs.  See
## schema for options
categories:
  - P2P Network Protocol
  - Security Problems

## Required.  Use Markdown formatting.  Only one paragraph.  No links allowed.
## Should be less than 500 characters
excerpt: >
  **Eclipse attacks** occur when a node is isolated from all honest
  peers but remains connected to at least one malicious peer.

## Optional.  Use Markdown formatting.  Multiple paragraphs.  Links allowed.
extended_summary: |
  Without any connections to honest peers, the eclipsed node won't
  receive the latest blocks on the most proof-of-work block chain.  This
  gives the attacker an unlimited amount of time to generate blocks
  containing double spends, so even an attacker with a small minority of
  hash rate can trick the victim into accepting confirmed double spends.

  The attacker will also control what transactions the victim's node
  receives.  This allows them to tell the node about transactions not
  generally available on the network in order to prompt the victim's
  node into taking an action (e.g. the attacker sends a transaction
  closing an LN channel only to the eclipsed node).

  Finally, the attacker can control what transactions the victim can
  send.  This allows the attacker to prevent the victim from sending
  time-critical transactions such as LN penalty transactions.  It also
  means that any transactions generated by the victim can be
  definitively identified as originating from the victim---a loss of
  privacy.

  To prevent eclipse attacks, node operators are encouraged to run their
  nodes on [multiple network interfaces][] and, when possible, to maintain
  connections to at least a few other nodes over secure networks (e.g.
  VPNs).  Within the limits possible for nodes with only a single
  interface, Bitcoin Core developers work to ensure the node connects to
  a large and diverse set of peers to reduce the chance that every one
  of a node's peers is the same [sybil attacker][sybil attack].

  [sybil attack]: https://en.wikipedia.org/wiki/Sybil_attack
  [multiple network interfaces]: https://en.wikipedia.org/wiki/Multihoming

## Optional.  Produces a Markdown link with either "[title][]" or
## "[title](link)"
primary_sources:
    - title: Eclipse attacks on Bitcoin's peer-to-peer network
      link: https://eprint.iacr.org/2015/263.pdf

## Optional.  Each entry requires "title", "url", and "date".  May also use "feature:
## true" to bold entry
optech_mentions:
  - title: Differentiating peers based on ASN instead of address prefix
    url: /en/newsletters/2019/06/26/#differentiating-peers-based-on-asn-instead-of-address-prefix

  - title: Discussion of eclipse attacks on LN nodes
    url: /en/newsletters/2019/12/18/#discussion-of-eclipse-attacks-on-ln-nodes

  - title: "2019 year-in-review: erlay and other P2P improvements"
    url: /en/newsletters/2019/12/28/#erlay-and-other-p2p-improvements

  - title: "Bitcoin Core #16702 chooses peers based on ASN instead of IP address"
    url: /en/newsletters/2020/02/05/#bitcoin-core-16702

  - title: "Review club discussion of Bitcoin Core #17428 anchor connections"
    url: /en/newsletters/2020/03/11/#bitcoin-core-pr-review-club

  - title: "Presentation about attacking Bitcoin Core, including using eclipse attacks"
    url: /en/newsletters/2020/05/06/#attacking-bitcoin-core

  - title: "Time dilation attack: using eclipse attacks to steal money from LN nodes"
    url: /en/newsletters/2020/06/10/#time-dilation-attacks-against-ln

  - title: "Bitcoin Core 0.20 released with asmap feature to improve eclipse resistance"
    url: /en/newsletters/2020/06/10/#bitcoin-core-0-20-0

  - title: "Bitcoin Core #19670 reserves inbound slots for block-relay-only peers"
    url: /en/newsletters/2020/09/09/#bitcoin-core-19670

  - title: "CVE-2018-17145 InvDoS attack could've been used to eclipse nodes"
    url: /en/newsletters/2020/09/16/#inventory-out-of-memory-denial-of-service-attack-invdos

  - title: Eclair #1545 adds multiple header sources to make eclipse attacks harder
    url: /en/newsletters/2020/11/11/#eclair-1545

## Optional.  Same format as "primary_sources" above
# see_also:
#   - title:
#     link:
---
