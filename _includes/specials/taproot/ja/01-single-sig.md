Optechの[Transaction size calculator][]を使用すると、
さまざまななタイプのシングルシグ・トランザクションのサイズを比較できます。
予想どおり、P2WPKHのインプットとアウトプットを使用したトランザクションは、
P2PKHのインプットとアウトプットを使用したトランザクションよりもはるかに小さいですが、
意外なことに、P2TRのトランザクションは同等のP2WPKHのトランザクションよりもわずかに大きくなります。

|                    | P2PKH (legacy) | P2WPKH (segwit v0) | P2TR (taproot/segwit v1) |
|--------------------|----------------|--------------------|--------------------------|
| **Output**         |  34            | 31                 | 43                       |
| **Input**          |  148           | 68                 | 57.5                     |
| **2-in, 2-out tx** |  374           | 208.5              | 211.5                    |

そのため、シングルシグのウォレットがブロック{{site.trb}}
に備えてTaprootの送信を実装するのは逆効果のように思えるかもしれません。
しかし、よく見てみると、ウォレットのユーザーにとってもネットワーク全体にとっても、
シングルシグにP2TRを使用するのは多くのメリットがあります。

- **使用料が安い:** シングルシグのP2TR UTXOを使用する際のインプットレベルのコストは、
  P2WPKH UTXOを使用する際のコストよりも約15%低くなります。
  上の表のような単純な分析では、使用者が支払いを要求されているアドレスを選択できないという詳細が隠されています。
  つまり、あなたがP2WPKHのままで他のユーザーがP2TRにアップグレードした場合、
  あなたの2-in-2-outトランザクションの実際の典型的なサイズは、232.5 vbyteになりますが、
  すべてP2TRのトランザクションは211.5 vbyteのままです。

- **プライバシー:** アーリーアダプターが新しいスクリプトフォーマットに変更すると一部のプライバシーが失われますが、
  Taprootに切り替えたユーザーはすぐにプライバシーが強化されます。
  あなたのトランザクションは、新しいLNチャネルや、より効率的な[DLC][topic dlc]、
  安全な[マルチシグ][topic multisignature]、さまざまな賢いウォレットバックアップリカバリー方式、
  その他の100の先駆的な開発に取り組んでいる人たちと見分けがつかなくなります。

    P2TRをシングルシグに使用することで、既存のユーザーのプライバシーに影響を与えることなく、
    ウォレットをマルチシグやTapscript、LNサポート、またはその他の機能に後でアップグレードすることも可能です。
    UTXOがソフトウェアの旧バージョンと新バージョンのどちらで受信されたかは問題になりません。
    どちらのUTXOもオンチェーンでは同じように見えます。

- **ハードウェア署名デバイスの利便性の向上:**
  [手数料の過払い攻撃][news101 fee overpayment attack]が再発見されてから、
  いくつかのハードウェア署名デバイスは、トランザクションで使用される各UTXOに、
  そのUTXOを生成したトランザクション全体の重要な部分のコピーを含むメタデータが提供されない限り、
  トランザクションへの署名を拒否します。
  これにより、ハードウェア署名者が実行しなければならない最悪のケースの処理が大幅に増え、
  特に限られたサイズのQRコードを主な通信媒体として使用するハードウェア署名者にとっては問題になります。
  Taprootは、手数料の過払い攻撃の原因となる脆弱性を排除し、ハードウェア署名者のパフォーマンスを大幅に向上させます。

- **より予測可能な手数料率:**
  P2PKHおよびP2WPKH UTXOのECDSA署名は、サイズが異なる場合があります（[ニュースレター #3][news3 sig size]参照）。
  ウォレットは署名を作成する前にトランザクションの手数料率を選択する必要があるため、
  ほとんどのウォレットは、最悪のケースの署名サイズを想定し、
  それより小さな署名が生成された場合に手数料率が若干オーバーするのを許容します。
  P2TRでは、署名の正確なサイズが事前に分かるため、ウォレットは正確な手数料率を確実に選択することができます。

- **フルノードの支援:**
  Bitcoinシステムの全体的なセキュリティは、かなりの割合のBitcoinユーザーが自身のノードで
  承認済みの各トランザクションを検証することに依存しています。
  これにはあなたのウォレットが作成するトランザクションの検証も含まれます。
  Taprootの[Schnorr署名][topic schnorr signatures]は、効率的なバッチ検証が可能で、
  前のブロックをキャッチアップする過程で署名を検証する際にノードが費やす必要のあるCPUサイクル数を[約1/2に削減します][batch graph]。
  このリストの他のすべてのポイントを拒否したとしても、
  フルノードを実行する人々の利益のためにTaprootを使用する準備をご検討ください。

[transaction size calculator]: /en/tools/calc-size/
[news3 sig size]: /en/newsletters/2018/07/10/#unrelayable-transactions
[news101 fee overpayment attack]: /en/newsletters/2020/06/10/#fee-overpayment-attack-on-multi-input-segwit-transactions
[batch graph]: https://github.com/jonasnick/secp256k1/blob/schnorrsig-batch-verify/doc/speedup-batch.md
